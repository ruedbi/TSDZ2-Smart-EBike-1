/*
 * TongSheng TSDZ2 motor controller firmware/
 *
 * Copyright (C) Casainho and Leon, 2019.
 *
 * Released under the GPL License, Version 3
 */

#ifndef EEPROM_H_
#define EEPROM_H_

#include <stdint.h>

#define EEPROM_BASE_ADDRESS 0x4000

#define ADDRESS_KEY								  0 + EEPROM_BASE_ADDRESS
#define ADDRESS_BATTERY_CURRENT_MAX				  1 + EEPROM_BASE_ADDRESS
#define ADDRESS_BATTERY_LOW_VOLTAGE_CUT_OFF_X10_0 2 + EEPROM_BASE_ADDRESS
#define ADDRESS_BATTERY_LOW_VOLTAGE_CUT_OFF_X10_1 3 + EEPROM_BASE_ADDRESS
#define ADDRESS_WHEEL_PERIMETER_0				  4 + EEPROM_BASE_ADDRESS
#define ADDRESS_WHEEL_PERIMETER_1				  5 + EEPROM_BASE_ADDRESS
#define ADDRESS_WHEEL_SPEED_MAX					  6 + EEPROM_BASE_ADDRESS
#define ADDRESS_MOTOR_TYPE						  7 + EEPROM_BASE_ADDRESS
#define ADDRESS_AVAIABLE_FOR_FUTURE_USE			  8 + EEPROM_BASE_ADDRESS
// for oem display
#define ADDRESS_MOTOR_ASSISTANCE_WITHOUT_PEDAL_ROTATION EEPROM_BASE_ADDRESS + 9
#define ADDRESS_MOTOR_ASSISTANCE_WITH_ERROR_ENABLED		EEPROM_BASE_ADDRESS + 10
#define ADDRESS_BATTERY_SOC								EEPROM_BASE_ADDRESS + 11
#define ADDRESS_SET_PARAMETER_ON_STARTUP				EEPROM_BASE_ADDRESS + 12
#define ADDRESS_STREET_MODE_ON_STARTUP					EEPROM_BASE_ADDRESS + 13
#define ADDRESS_RIDING_MODE_ON_STARTUP					EEPROM_BASE_ADDRESS + 14
#define ADDRESS_LIGHTS_CONFIGURATION_ON_STARTUP			EEPROM_BASE_ADDRESS + 15
#define ADDRESS_STARTUP_BOOST_ON_STARTUP				EEPROM_BASE_ADDRESS + 16
#define ADDRESS_ENABLE_AUTO_DATA_DISPLAY				EEPROM_BASE_ADDRESS + 17
#define ADDRESS_SOC_PERCENT_CALC						EEPROM_BASE_ADDRESS + 18
#define ADDRESS_TORQUE_SENSOR_ADV_ON_STARTUP			EEPROM_BASE_ADDRESS + 19
#define EEPROM_BYTES_STORED								20
#define EEPROM_BYTES_STORED_OEM_DISPLAY					11
#define EEPROM_BYTES_INIT_OEM_DISPLAY					EEPROM_BYTES_STORED - EEPROM_BYTES_STORED_OEM_DISPLAY

// system
#define DEFAULT_VALUE_KEY 204
#define SET_TO_DEFAULT	  0
#define READ_FROM_MEMORY  1
#define WRITE_TO_MEMORY	  2

void EEPROM_init(void);

void EEPROM_controller(uint8_t ui8_operation, uint8_t ui8_byte_init);

#endif /* EEPROM_H_ */
